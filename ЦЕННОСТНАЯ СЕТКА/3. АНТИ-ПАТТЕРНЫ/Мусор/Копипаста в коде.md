#–º—É—Å–æ—Ä 
***

> [!cite] –û–ø–∏—Å–∞–Ω–∏–µ
>_–ö–æ–ø–∏–ø–∞—Å—Ç–∞ ‚Äî —ç—Ç–æ –ø–ª–æ—Ö–æ._
>
_–í–æ-–ø–µ—Ä–≤—ã—Ö, –µ—Å–ª–∏ –∫–æ–¥ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–º–µ–Ω—è—Ç—å ‚Äî –ø—Ä–∏–¥—ë—Ç—Å—è –∏—Å–∫–∞—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞, –≥–¥–µ –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –∏ –º–µ–Ω—è—Ç—å –µ–≥–æ –≤–µ–∑–¥–µ, –ø–æ –≤—Å–µ–º —Ñ–∞–π–ª–∞–º._
>
_–í–æ-–≤—Ç–æ—Ä—ã—Ö, –µ—Å–ª–∏ –≤ –∫–æ–¥–µ –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞ ‚Äî –µ—ë –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–∞–∑–æ–º, –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ, –ø—Ä–∏–¥—ë—Ç—Å—è –æ–ø—è—Ç—å –∂–µ –∏—Å–∫–∞—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è —ç—Ç–æ—Ç –∫–æ–¥ –∏ —á–∏–Ω–∏—Ç—å –µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑._
>
_–í-—Ç—Ä–µ—Ç—å–∏—Ö, —á–µ–º –±–æ–ª—å—à–µ –∫–æ–¥–∞ ‚Äî —Ç–µ–º —Ç—Ä—É–¥–Ω–µ–µ –µ–≥–æ —á–∏—Ç–∞—Ç—å._

***
### üí° –ü—Ä–∏–º–µ—Ä 1


**–ü–ª–æ—Ö–æ:**
```python
import os
import requests

from urllib.parse import urljoin


def fetch_nasa_images(api_key, folder):
    ...
    images_names = ...
    for image_name in images_names:
        ...
        image_url = ...
        image_path = os.path.join(folder, image_name)
        try:
            response = requests.get(image_url)
            response.raise_for_status()
            with open(image_path, 'wb') as file:
                file.write(response.content)
        except requests.exceptions.HTTPError as e:
            logging.info(f'HTTPError: {e}')


def fetch_spacex_images(flight_id, folder):
    ...
    images_names = ...
    for image_name in images_names:
        ...
        image_url = urljoin(..., flight_id)
        image_path = os.path.join(folder, image_name)
        try:
            response = requests.get(image_url)
            response.raise_for_status()
            with open(image_path, 'wb') as file:
                file.write(response.content)
        except requests.exceptions.HTTPError as e:
            logging.info(f'HTTPError: {e}')


def main():
    ...
    fetch_nasa_images(nasa_api_key, nasa_imgs_folder)
    fetch_spacex_images(spacex_api_key, spacex_imgs_folder)
```

**–•–æ—Ä–æ—à–æ:**
```python
import os
import requests

from urllib.parse import urljoin


def download_image(image_path, image_url):
	try:
        response = requests.get(image_url)
	    response.raise_for_status()
	except requests.exceptions.HTTPError as e:
		logging.info(f'HTTPError: {e}')

    with open(image_path, 'wb') as file:
        file.write(response.content)


def fetch_nasa_images(api_key, folder):
    ...
    images_names = ...
    for image_name in images_names:
        ...
        image_url = ...
        image_path = os.path.join(folder, image_name)
        download_image(image_path, image_url)


def fetch_spacex_images(flight_id, folder):
    ...
    images_names = ...
    for image_name in images_names:
        ...
        image_url = urljoin(..., flight_id)
        image_path = os.path.join(folder, image_name)
        download_image(image_path, image_url)


def main():
    ...
    fetch_nasa_images(nasa_api_key, nasa_imgs_folder)
    fetch_spacex_images(spacex_api_key, spacex_imgs_folder)
```

***

### üí° –ü—Ä–∏–º–µ—Ä 2


**–ü–ª–æ—Ö–æ:**
```python
...
    if mentor:
        text = (
            f'üéâ –ü—Ä–∏–≤–µ—Ç, –ú–µ–Ω—Ç–æ—Ä {mentor["name"]["first"]}! üéâ\n\n'
            '–≠—Ç–æ –±–æ—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–π –º–µ–Ω—Ç–æ—Ä—É ‚ù§Ô∏è\n\n'
            '‚ú® –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–û–¢–ü–†–ê–í–ò–¢–¨ –û–¢–ö–†–´–¢–ö–£" —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è! ‚ú®'
        )
        keyboard = main_keyboard
    else:
        text = (
            f'üéâ –ü—Ä–∏–≤–µ—Ç, –£—á–µ–Ω–∏–∫ {username}! üéâ\n\n'
            '–≠—Ç–æ –±–æ—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–π –º–µ–Ω—Ç–æ—Ä—É ‚ù§Ô∏è\n\n'
            '‚ú® –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–û–¢–ü–†–ê–í–ò–¢–¨ –û–¢–ö–†–´–¢–ö–£" —á—Ç–æ–±—ã –ø–æ—Ä–∞–¥–æ–≤–∞—Ç—å —Å–≤–æ–µ–≥–æ –º–µ–Ω—Ç–æ—Ä–∞! ‚ú®'
        )
        keyboard = main_keyboard

    await message.answer(text, reply_markup=keyboard)
```

**–•–æ—Ä–æ—à–æ:**
```python
...
	if mentor:
        recipient = f'–ú–µ–Ω—Ç–æ—Ä {current_mentor["name"]["first"]}'
        action = '–æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è'
    else:
        recipient = f'–£—á–µ–Ω–∏–∫ {message.from_user.username}'
        action = '–ø–æ—Ä–∞–¥–æ–≤–∞—Ç—å —Å–≤–æ–µ–≥–æ –º–µ–Ω—Ç–æ—Ä–∞'

    text = (
        f'üéâ –ü—Ä–∏–≤–µ—Ç, {recipient}! üéâ\n\n'
        '–≠—Ç–æ –±–æ—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–π –º–µ–Ω—Ç–æ—Ä—É ‚ù§Ô∏è\n\n'
        f'‚ú® –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–û–¢–ü–†–ê–í–ò–¢–¨ –û–¢–ö–†–´–¢–ö–£" —á—Ç–æ–±—ã {action}! ‚ú®'
    )
    keyboard = main_keyboard

    await message.answer(text, reply_markup=keyboard)
```

***

> [!example] –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–µ–π—Å—ã
>- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: [[SOURCE CODE PY]]
>	- –§—É–Ω–∫—Ü–∏—è: [[SOURCE CODE PY#ùëì –ë–µ–≥–ª–æ –ø—Ä–æ—Å–ª–µ–¥–∏—Ç—å –ø–æ—Ç–æ–∫ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã|–ë–µ–≥–ª–æ –ø—Ä–æ—Å–ª–µ–¥–∏—Ç—å –ø–æ—Ç–æ–∫ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã]]

***

> [!info]
> –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –Ω–∏—á–µ–≥–æ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –∏–ª–∏ –µ—Å—Ç—å –∏–¥–µ—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é, [[–ö–æ–Ω—Ç–∞–∫—Ç—ã|–ø–∏—à–∏ —Å—é–¥–∞]].
